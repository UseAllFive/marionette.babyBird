!function(a){"function"==typeof define&&define.amd?define(["backbone","marionette","underscore"],a):a(Backbone,Marionette,_)}(function(a,b,c){function d(b){var e;return b instanceof a.Collection?b=b.toJSON():b instanceof a.Model?(e=b.id,b=b.toJSON(),b.id=e):b=c.clone(b),c.each(b,function(a,e){c.isObject(a)&&(b[e]=d(a))}),b}var e=b.Renderer.render;return b.Renderer.render=function(a,b){try{return e.call(this,a,d(b))}catch(c){return console.error(c),e.apply(this,arguments)}},b});